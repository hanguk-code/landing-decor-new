(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{326:function(t,e,r){"use strict";r.r(e);r(91),r(30),r(31),r(64),r(8),r(21);var n=r(2),l=r(40),c=r(53);function o(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var m={head:{bodyAttrs:{class:"main-page"},title:"Главная Декор Ретро",meta:[]},data:function(){return{categories:[],userForm:{},loading:!1}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(c.b)({cartData:"item/cartData"})),fetch:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getCategories();case 2:case"end":return e.stop()}}),e)})))()},methods:{getCategories:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("/categories").catch((function(){}));case 2:r=e.sent,data=r.data,t.categories=data.data;case 5:case"end":return e.stop()}}),e)})))()},order:function(){var t=this;this.loading=!0,this.$axios.$post("/order",{cartData:this.cartData,userForm:this.userForm}).then((function(e){"success"===e.data.status&&(alert("Вы успешно оформили заказ!"),t.userForm={},t.$store.dispatch("item/saveCartItem",{cartData:null}))})).catch((function(t){console.log(t)})).finally((function(){t.loading=!1}))},removeFromCart:function(){this.$store.dispatch("item/saveCartItem",{cartData:null})}}},_=r(15),component=Object(_.a)(m,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"content",attrs:{id:"content"}},[t._m(0),t._v(" "),r("div",{staticClass:"container"},[t._m(1),t._v(" "),r("div",{staticClass:"row d-none d-lg-block"},[r("div",{staticClass:"col-12"},[r("ul",{staticClass:"menu"},[r("li",[r("n-link",{attrs:{to:"/"}},[t._v("\n                            Главная\n                        ")])],1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6)])])]),t._v(" "),r("div",{staticClass:"row d-flex d-lg-none"},[r("div",{staticClass:"col-12"},[r("div",{staticClass:"menu-mobile"},[t._m(7),t._v(" "),r("nav",{staticClass:"menu-collapse"},[r("ul",{staticClass:"menu"},[r("li",[r("n-link",{attrs:{to:"/"}},[t._v("\n                                    Главная\n                                ")])],1),t._v(" "),t._m(8),t._v(" "),r("li",[t._m(9),t._v(" "),r("ul",t._l(t.categories,(function(e,n){return r("li",[r("n-link",{staticClass:"menu__dropdown",attrs:{to:e.url}},[t._v("\n                                            "+t._s(e.name)+"\n                                            "),r("img",{attrs:{src:"/img/minus.png",alt:""}})]),t._v(" "),r("ul",t._l(e.children,(function(e,n){return r("li",[r("n-link",{attrs:{to:e.url}},[t._v("\n                                                     "+t._s(e.name)+"\n                                                ")])],1)})),0)],1)})),0)]),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13)])])])])]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-3"},[r("ul",{staticClass:"left-menu d-none d-lg-block"},t._l(t.categories,(function(e,n){return r("li",[r("n-link",{staticClass:"open-submenu menu__dropdown",attrs:{to:e.url}},[t._v("\n                                "+t._s(e.name)+"\n                            "),r("img",{attrs:{src:"/img/minus.png",alt:""}})]),t._v(" "),r("ul",{staticClass:"sub-menu"},t._l(e.children,(function(e,n){return r("li",[r("n-link",{attrs:{to:e.url}},[t._v("\n                                      "+t._s(e.name)+"\n                                ")])],1)})),0)],1)})),0)]),t._v(" "),r("div",{staticClass:"col-md-9"},[t._m(14),t._v(" "),r("table",{staticClass:"tableheader"},[r("tbody",[t.cartData?r("tr",[r("td",{staticClass:"image"},[r("a",{attrs:{href:"#"}},[r("img",{attrs:{src:t.cartData.image_url,alt:""}})])]),t._v(" "),r("td",{staticClass:"name"},[r("n-link",{attrs:{to:t.cartData.url}},[t._v("\n                                        "+t._s(t.cartData.name)+"\n                                    ")])],1),t._v(" "),r("td",{staticClass:"price"},[t._v("\n                                    "+t._s(t.cartData.price)+" руб.\n                                    \n                                ")]),t._v(" "),r("td",{staticStyle:{"vertical-align":"middle !important"}},[r("a",{attrs:{href:"#"},on:{click:t.removeFromCart}},[r("img",{attrs:{src:"/img/remove.png",alt:"Удалить",title:"Удалить"}})])])]):t._e()])]),t._v(" "),r("table",{staticClass:"tablefooter"},[r("thead",[t.cartData?r("tr",[t._m(15),t._v(" "),r("td",{staticStyle:{width:"104px","text-align":"center"}},[t._v(t._s(t.cartData.price)+" руб.")])]):t._e()])]),t._v(" "),r("form",{staticClass:"basket",attrs:{role:"form"},on:{submit:function(e){return e.preventDefault(),t.order(e)}}},[r("div",{staticClass:"basket__input"},[t._m(16),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.name,expression:"userForm.name"}],attrs:{type:"text",placeholder:"Введите имя",required:""},domProps:{value:t.userForm.name},on:{input:function(e){e.target.composing||t.$set(t.userForm,"name",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"basket__input"},[t._m(17),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.phone,expression:"userForm.phone"}],attrs:{type:"phone",placeholder:"Введите телефон",required:""},domProps:{value:t.userForm.phone},on:{input:function(e){e.target.composing||t.$set(t.userForm,"phone",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"basket__input"},[t._m(18),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.email,expression:"userForm.email"}],attrs:{type:"email",name:"email",placeholder:"Введите почту",required:""},domProps:{value:t.userForm.email},on:{input:function(e){e.target.composing||t.$set(t.userForm,"email",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"basket__input"},[r("label",{attrs:{for:""}},[t._v("\n                                    Комментарии\n                                ")]),t._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.userForm.comment,expression:"userForm.comment"}],attrs:{name:"comment",cols:"20",rows:"5",placeholder:"Комментарий",required:""},domProps:{value:t.userForm.comment},on:{input:function(e){e.target.composing||t.$set(t.userForm,"comment",e.target.value)}}})]),t._v(" "),r("button",{staticClass:"basket__btn",attrs:{type:"submit"}},[t._v("\n                                Отправить\n                            ")])])])])])])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"modal-1",staticStyle:{display:"none"},attrs:{id:"modal-1"}},[r("h3",[t._v("\n        Написать нам\n    ")]),t._v(" "),r("form",{attrs:{action:"#"}},[r("label",[t._v("Ваше имя:")]),t._v(" "),r("input",{attrs:{type:"text",name:"name"}}),t._v(" "),r("label",[t._v("Ваш E-Mail:")]),t._v(" "),r("input",{attrs:{type:"email",name:"email"}}),t._v(" "),r("label",[t._v("Ваш вопрос:")]),t._v(" "),r("textarea",{attrs:{name:"question",rows:"10"}}),t._v(" "),r("button",{attrs:{type:"submit"}},[t._v("\n            Отправить\n        ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"img-vector"},[e("img",{attrs:{src:"/img/vector-left.png",alt:""}}),this._v(" "),e("img",{attrs:{src:"/img/vector-right.png",alt:""}}),this._v(" "),e("img",{attrs:{src:"/img/vector-left-bot.png",alt:""}}),this._v(" "),e("img",{attrs:{src:"/img/vector-bot-right.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{attrs:{href:"#"}},[this._v("\n                            Каталог\n                        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{attrs:{href:"#"}},[this._v("\n                            Новинки\n                        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{attrs:{href:"#"}},[this._v("\n                            Архив\n                        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{attrs:{href:"#"}},[this._v("\n                            Доставка\n                        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{attrs:{href:"#"}},[this._v("\n                            Контакты\n                        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"menu-mobile__top"},[e("p",[this._v("\n                            Меню\n                        ")]),this._v(" "),e("a",{staticClass:"gamburger-link",attrs:{href:"#"}},[e("img",{staticClass:"gumb",attrs:{src:"/img/hamburgermenu.svg",alt:"Gamb"}}),this._v(" "),e("img",{staticClass:"exit",attrs:{src:"/img/Exit.png",alt:"Exit"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{attrs:{href:"#"}},[this._v("\n                                    Каталог\n                                ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"menu__dropdown",attrs:{href:"#"}},[this._v("\n                                    Категории\n                                    "),e("img",{attrs:{src:"/img/minus.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{attrs:{href:"#"}},[this._v("\n                                    Новинки\n                                ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{attrs:{href:"#"}},[this._v("\n                                    Архив\n                                ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{attrs:{href:"#"}},[this._v("\n                                    Доставка\n                                ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{attrs:{href:"#"}},[this._v("\n                                    Контакты\n                                ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bread-buy"},[e("ul",[e("li",[e("a",{attrs:{href:"#"}},[this._v("\n                                Главная \n                                "),e("span",[this._v("\n                                    »\n                                ")])])]),this._v(" "),e("li",[e("a",{attrs:{href:"#"}},[this._v("\n                                Корзина покупок\n                            ")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"padding-left":"5px"}},[e("b",[this._v("Итого:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:""}},[this._v("\n                                    Имя\n                                    "),e("span",[this._v("\n                                        *\n                                    ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:""}},[this._v("\n                                    Телефон\n                                    "),e("span",[this._v("\n                                        *\n                                    ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:""}},[this._v("\n                                    Email\n                                    "),e("span",[this._v("\n                                        *\n                                    ")])])}],!1,null,"7c2e871e",null);e.default=component.exports}}]);